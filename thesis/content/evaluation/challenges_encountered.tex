\section{Challenges Encountered}

\subsection{Replanning Challenges for Point Mass}

During the replanning phase for the point mass, we encountered a significant challenge.
Our control layer introduced some inaccuracies, resulting in the vehicle reaching a higher velocity than anticipated at the time of replanning.
This discrepancy led to infeasibility issues during the replanning process.

To address this problem, we introduced soft constraints.
These soft constraints allowed for a more flexible approach to handling the velocity overshoot, ensuring that the replanning process could still
generate feasible trajectories despite the initial inaccuracies.
By incorporating these soft constraints, we were able to mitigate the impact of the velocity overshoot and maintain the overall feasibility of the
replanning process.

\subsection{Lag in Dynamics}

\subsection{Lag in Dynamics}

We experienced a lag caused by using the forward Euler method on the vehicle model's dynamics and adding a feedback loop to adjust the vehicle
orientation.
The issue arose because a change in the steering was accounted for in the orientation two additional steps later, leading to overcorrection and
resulting in oscillation.

To address this problem, we employed a better discretization scheme and accounted for the lag in the feedback loop.
By doing so, we were able to mitigate the overcorrection and eliminate the oscillation, leading to a more stable and accurate control of the
vehicle's orientation.

\subsection{McCormick Relaxation}

To illustrate the application of these relaxations in practice, consider a path-planning scenario with \( v_{min} = 1 \), \( v_{max} = 4 \), and \(
v_{start} = 1 \).
In this scenario, the bilinear term \( v\xi \), which appears in the equation of motion for \(\dot{n} = v \sin{\xi} \approx v\xi\), is approximated
using McCormick relaxations.

\begin{figure}[h]
	\centering
	\resizebox{1\textwidth}{!}{\input{figures/velocity.pgf}}
	\caption{Planned velocity profile.}
	\label{fig:velocity}
\end{figure}

Figure \ref{fig:velocity} shows the planned velocity profile, which quickly reaches its upper limit.

\begin{figure}[h]
	\centering
	\resizebox{1\textwidth}{!}{\input{figures/alignment-error.pgf}}
	\caption{Alignment error \(\xi\) over time.}
	\label{fig:alignment-error}
\end{figure}

Figure \ref{fig:alignment-error} depicts the alignment error \( \xi \) at each planned time point.
Here, \( \xi \) is bounded within \(-45^{\circ} \leq \xi \leq 45^{\circ} \).
It is noteworthy that \( \xi \) does not reach these bounds.

\begin{figure}[h]
	\centering
	\resizebox{0.7\textwidth}{!}{\input{figures/dn-term-approx.pgf}}
	\caption{State transition approximation for \( n \) using bilinear term relaxation.}
	\label{fig:dn-term-approx}
\end{figure}

Figure \ref{fig:dn-term-approx} compares the actual bilinear value \( v\xi \) with the relaxation variable \( w \) introduced via McCormick
envelopes.
This comparison highlights the accuracy of the relaxation approach in approximating the bilinear interaction and its effect on the state transition
of \( n \).
Once the velocity reaches its limit, the approximation becomes increasingly accurate.

Note: The x-axis does not represent time directly but instead shows discrete time points.
Here, 30 time points per second were chosen, resulting in a range from 0 to 120 for this figure, whereas the other figures range from 0 to 4.

\subsubsection{Main Problem with Mccormick}

The usual way how I apply McCormick is by saying:

Given a State, which is valid, find the next State which is valid with the
corresponding control which is also valid under a given Objective.

Problem: This is not convex.

By Convexifying this Relationship, we decouple the interaction.

Question:

Can this approach result in two states, where no valid control input can exist?
If so, how often does this happen.

Lets look at a example:

\[ x_{n+1} = x_{n} + u_{n} v_{n} \]

With State $x$ and Control Inputs $u$, $v$.

Applying Mccormick:

$w=xy$

\pagebreak

Hesse-Matrix of $f(x,y)=xy$:

\[
	\nabla f = \begin{bmatrix}
		y \\
		x \\
	\end{bmatrix}
\]

\[
	\nabla^2 f = \begin{bmatrix}
		0 & 1 \\
		1 & 0 \\
	\end{bmatrix}
\]

\[
	\vert \begin{bmatrix}
		-\lambda & 1        \\
		1        & -\lambda \\
	\end{bmatrix} \vert = \lambda^2-1 = 0 \implies \lambda=\pm1
\]

